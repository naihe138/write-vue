{"version":3,"file":"vue.js","sources":["../src/observer/array.js","../src/utils/index.js","../src/observer/index.js","../src/state.js","../src/compile/index.js","../src/observer/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/utils/mergeOptions.js","../src/init.js","../src/vdom/create-element.js","../src/render.js","../src/globalAPI.js","../src/index.js"],"sourcesContent":["let oldArrayProtoMethods = Array.prototype\n\nexport let arrayMethods = Object.create(oldArrayProtoMethods)\n\nlet methods = ['push', 'pop', 'shift', 'unshift', 'reverse', 'sort', 'splice']\n\nmethods.forEach(method => {\n  arrayMethods[method] = function (...args) {\n    const result = oldArrayProtoMethods[method].apply(this, args);\n    const ob = this.__ob__;\n    let inserted = null;\n    switch(method) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n      default: \n        break\n    }\n    if (inserted) {\n      ob.observeArray(inserted)\n    }\n    return result\n  }\n})","\nexport const emptyObject = Object.freeze({})\n\nexport function isUndef (v) {\n  return v === undefined || v === null\n}\n\nexport function isDef (v) {\n  return v !== undefined && v !== null\n}\n\nexport function isTrue (v) {\n  return v === true\n}\n\nexport function isFalse (v) {\n  return v === false\n}\n\n/**\n * 是否是原始类型.\n */\nexport function isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\nexport function isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n\nconst _toString = Object.prototype.toString\n\nexport function toRawType (value){\n  return _toString.call(value).slice(8, -1)\n}\n\nexport function isPlainObject (obj){\n  return _toString.call(obj) === '[object Object]'\n}\n\nexport function isRegExp (v){\n  return _toString.call(v) === '[object RegExp]'\n}\n\nexport function isValidArrayIndex (val){\n  const n = parseFloat(String(val))\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nexport function isPromise (val){\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\nexport function toString (val){\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\nexport function toNumber (val) {\n  const n = parseFloat(val)\n  return isNaN(n) ? val : n\n}\n\n\nexport function makeMap (\n  str,\n  expectsLowerCase\n){\n  const map = Object.create(null)\n  const list = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectsLowerCase\n    ? val => map[val.toLowerCase()]\n    : val => map[val]\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nexport const isBuiltInTag = makeMap('slot,component', true)\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nexport const isReservedAttribute = makeMap('key,ref,slot,slot-scope,is')\n\n/**\n * Remove an item from an array.\n */\nexport function remove (arr, item) {\n  if (arr.length) {\n    const index = arr.indexOf(item)\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport function hasOwn (obj, key){\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nexport function cached (fn) {\n  const cache = Object.create(null)\n  return (function cachedFn (str) {\n    const hit = cache[str]\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nconst camelizeRE = /-(\\w)/g\nexport const camelize = cached((str)=> {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : '')\n})\n\n/**\n * Capitalize a string.\n */\nexport const capitalize = cached((str)=> {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n})\n\n/**\n * Hyphenate a camelCase string.\n */\nconst hyphenateRE = /\\B([A-Z])/g\nexport const hyphenate = cached((str)=> {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n})\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    const l = arguments.length\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nexport const bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind\n\n/**\n * Convert an Array-like object to a real Array.\n */\nexport function toArray (list, start) {\n  start = start || 0\n  let i = list.length - start\n  const ret = new Array(i)\n  while (i--) {\n    ret[i] = list[i + start]\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nexport function extend (to, _from) {\n  for (const key in _from) {\n    to[key] = _from[key]\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nexport function toObject (arr) {\n  const res = {}\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i])\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nexport function noop () {}\n\n/**\n * Always return false.\n */\nexport const no = () => false\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nexport const identity = (_) => _\n\n/**\n * Generate a string containing static keys from compiler modules.\n */\nexport function genStaticKeys (modules){\n  return modules.reduce((keys, m) => {\n    return keys.concat(m.staticKeys || [])\n  }, []).join(',')\n}\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nexport function looseEqual (a, b){\n  if (a === b) return true\n  const isObjectA = isObject(a)\n  const isObjectB = isObject(b)\n  if (isObjectA && isObjectB) {\n    try {\n      const isArrayA = Array.isArray(a)\n      const isArrayB = Array.isArray(b)\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every((e, i) => {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        const keysA = Object.keys(a)\n        const keysB = Object.keys(b)\n        return keysA.length === keysB.length && keysA.every(key => {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nexport function looseIndexOf (arr, val) {\n  for (let i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) return i\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nexport function once (fn) {\n  let called = false\n  return function () {\n    if (!called) {\n      called = true\n      fn.apply(this, arguments)\n    }\n  }\n}\n","import { arrayMethods } from './array'\nimport { hasOwn } from '../utils/index' \nclass Observer{\n  constructor(value) {\n    Object.defineProperty(value, '__ob__', {\n      enumerable: false,\n      configurable: false,\n      value: this\n    })\n    if (Array.isArray(value)) {\n      value.__proto__ = arrayMethods\n      this.observeArray(value)\n    } else {\n      this.walk(value)\n    }\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    for (let i = 0, len = keys.length; i < len; i++) {\n      let key = keys[i]\n      let value = data[key]\n      defineReactive(data, key, value)\n    }\n  }\n  observeArray(value) {\n    for (let i = 0, len = value.length; i < len; i++) {\n      observe(value[i])\n    }\n  }\n}\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value\n    },\n    set(newValue) {\n      if (newValue == value) return\n      observe(newValue)\n      value = newValue\n    }\n  })\n}\nexport function observe(data) {\n  if (typeof data !== 'object' && data != null) {\n    return;\n  }\n  // 如果被监听过就返回监听过的对象\n  if (hasOwn(data, '__ob__') && data.__ob__ instanceof Observer) {\n    return data.__ob__\n  } else {\n    return new Observer(data)\n  }\n}","import { observe } from './observer/index' \nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.props) {\n    initProps(vm);\n  }\n  if (opts.methods) {\n    initMethod(vm);\n  }\n  if (opts.data) {\n    initData(vm);\n  }\n  if (opts.computed) {\n    initComputed(vm);\n  }\n  if (opts.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps(vm) {}\n\nfunction initMethod(vm) {}\n\nfunction proxy(vm, source, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[source][key]\n    },\n    set(newValue) {\n      return vm[source][key] = newValue\n    }\n  })\n}\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? data.call(vm, vm)\n    : data || {};\n  // 数据代理\n  let keys = Object.keys(data);\n  let i = keys.length;\n  while(i--) {\n    proxy(vm, '_data', keys[i]);\n  }\n  observe(data);\n}\n\nfunction initComputed(vm) {}\n\nfunction initWatch(vm) {}\n\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\nconst ELEMENT_TYPE = 1\nconst TEXT_TYPE = 3\nlet root, currentParent, stack = []\n\nfunction createASTElement(tagName, attrs) {\n  return {\n    tag: tagName,\n    type: ELEMENT_TYPE,\n    children: [],\n    attrs,\n    parent: null\n  }\n}\nfunction start(tagName, attrs) {\n  let element = createASTElement(tagName, attrs);\n  if (!root) {\n    root = element\n  }\n  currentParent = element\n  stack.push(element)\n}\nfunction end(tagName) {\n  let element = stack.pop()\n  currentParent = stack[stack.length - 1]\n  if (currentParent) {\n    element.parent = currentParent\n    currentParent.children.push(element)\n  }\n}\nfunction chars(text) {\n  // text = text.replace(/\\s/g, '')\n  if (text && text.replace(/\\s/g, '')) {\n    currentParent.children.push({\n      type: TEXT_TYPE,\n      text\n    })\n  }\n}\n\nfunction parseHTML(html) {\n  while (html) {\n    let textEnd = html.indexOf('<')\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag()\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      const endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    }\n    let text\n    if (textEnd >= 0) {\n      text = html.substring(0, textEnd)\n    }\n    if (text) {\n      advance(text.length)\n      chars(text)\n    }\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length)\n      let attr, end\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n        advance(attr[0].length);\n        match.attrs.push({ name: attr[1], value: attr[3] });\n      }\n      if (end) {\n        advance(end[0].length);\n        return match\n      }\n    }\n  }\n  function advance(n) {\n    html = html.substring(n)\n  }\n}\n\n// 生成代码\n\nfunction gen(node) {\n  if (node.type == 1) {\n    return generate(node);\n  } else {\n    let text = node.text\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`\n    }\n    let lastIndex = defaultTagRE.lastIndex = 0\n    let tokens = [];\n    let match, index;\n\n    while (match = defaultTagRE.exec(text)) {\n      index = match.index;\n      if (index > lastIndex) {\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      tokens.push(`_s(${match[1].trim()})`)\n      lastIndex = index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      tokens.push(JSON.stringify(text.slice(lastIndex)))\n    }\n    return `_v(${tokens.join('+')})`;\n  }\n}\nfunction getChildren(el) { // 生成儿子节点\n  const children = el.children;\n  if (children) {\n    return `${children.map(c => gen(c)).join(',')}`\n  } else {\n    return false;\n  }\n}\nfunction genProps(attrs) { // 生成属性\n  let str = '';\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === 'style') {\n      let obj = {}\n      attr.value.split(';').forEach(item => {\n        let [key, value] = item.split(':');\n        obj[key] = value;\n      })\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\nfunction generate(el) {\n  let children = getChildren(el);\n  let code = `_c('${el.tag}',${\n    el.attrs.length ? `${genProps(el.attrs)}` : 'undefined'\n    }${\n    children ? `,${children}` : ''\n    })`;\n  return code;\n}\n\nexport function compileToFunctions(template) {\n  parseHTML(template)\n  let code = generate(root)\n  console.log(code)\n  let render = `with(this){return ${code}}`;\n  let renderFn = new Function(render);\n  return renderFn\n}","let id = 0;\nclass Watcher{\n  constructor(vm, exprOrFn, cb, options) {\n    this.vm = vm\n    this.exprOrFn = exprOrFn\n    if (typeof exprOrFn === 'function') {\n      this.getter = exprOrFn\n    }\n    this.cb = cb\n    this.options = options\n    this.id = id++\n    this.getter()\n  }\n  get() {\n    this.getter()\n  }\n}\n\nexport default Watcher","export function patch(oldVnode, newVnode) {\n  const isReadElement = oldVnode.nodeType\n  if (isReadElement) {\n    const oldElm = oldVnode\n    const parentElm = oldElm.parentNode\n\n    let el = creatElm(newVnode)\n    parentElm.insertBefore(el, oldElm.nextSibling)\n    parentElm.removeChild(oldVnode)\n    return el\n  }\n}\n\nfunction creatElm(vnode) {\n  let { tag, children, key, data, text } = vnode\n  if(typeof tag === 'string') {\n    vnode.el = document.createElement(tag)\n    updateProperties(vnode)\n    children.forEach(child => {\n      return vnode.el.appendChild(creatElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}\n\nfunction updateProperties(vnode) {\n  let newProps = vnode.data || {}\n  let el = vnode.el\n  for (let key in newProps) {\n    if (key === 'style') {\n      for (let styleName in newProps.style) {\n        el.style[styleName] = newProps.style[styleName]\n      }\n    } else if (key === 'class'){\n      el.className = newProps.class\n    } else {\n      el.setAttribute(key, newProps[key])\n    }\n  }\n}","import Watcher from './observer/watcher';\nimport { patch } from './vdom/patch'\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function(vnode) {\n    const vm = this\n    vm.$el = patch(vm.$el, vnode)\n  }\n}\n\nexport function mountComponent(vm, el) {\n  vm.$el = el\n  let updateComponent = () => {\n    vm._update(vm._render());\n  }\n  new Watcher(vm, updateComponent, () => {}, true)\n}\n\nexport function callHook(vm, hook) {\n  const handlers = vm.$options[hook];\n  if (handlers) {\n    for (let i = 0; i < handlers.length; i++) {\n      handlers[i].call(vm);\n    }\n  }\n}\n","export const LIFECYCLE_HOOKS = [\n  'beforeCteate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed'\n]\nconst strate = {}\nfunction mergeHook(parentVal, childVal) {\n  if (childVal) {\n    if (parentVal) {\n      return parentVal.concat(childVal)\n    } else {\n      return [childVal]\n    }\n  } else {\n    return parentVal\n  }\n}\nLIFECYCLE_HOOKS.forEach(hook => {\n  strate[hook] = mergeHook\n})\n\nexport function mergeOptions(parent, child) {\n  const options = {}\n\n  for (let key in parent) {\n    mergeField(key)\n  }\n\n  for (let key in child) {\n    if (!parent.hasOwnProperty(key)) {\n      mergeField(key);\n    }\n  }\n\n  function mergeField(key) {\n    if (strate[key]) {\n      options[key] = strate[key](parent[key], child[key])\n    } else {\n      if (typeof parent[key] === 'object' && typeof child[key] === 'object') {\n        options[key] = {\n          ...parent[key],\n          ...child[key]\n        }\n      } else {\n        options[key] = child[key];\n      }\n    }\n  }\n  return options\n}","import { initState } from './state'\nimport { compileToFunctions } from './compile/index'\nimport { mountComponent, callHook } from './lifecycle'\nimport { mergeOptions } from './utils/mergeOptions'\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this\n    vm.$options = mergeOptions(vm.constructor.options, options)\n    callHook(vm, 'berforCreate')\n    initState(vm)\n    callHook(vm, 'created')\n    if (vm.$options.el) {\n      callHook(vm, 'beforeMount')\n      vm.$mount(vm.$options.el)\n      callHook(vm, 'mounted')\n    }\n  }\n  Vue.prototype.$mount = function (el) {\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el);\n    if (!options.render) {\n      let template = options.template\n      if (!template && el) {\n        template = el.outerHTML\n      }\n      const render = compileToFunctions(template)\n      options.render = render\n    }\n    mountComponent(vm, el);\n  }\n}","export function createTextNode(text) {\n  return vnode(undefined, undefined, undefined, undefined, text)\n}\n\nexport function createElement(tag, data = {}, ...children) {\n  let key = data.key\n  if (key) {\n    delete data.key\n  }\n  return vnode(tag, data, key, children)\n}\n\nfunction vnode(tag, data, key, children, text) {\n  return {\n    tag,\n    data,\n    key,\n    children,\n    text\n  }\n}","import { createTextNode, createElement } from './vdom/create-element'\n\nexport function renderMixin(Vue) {\n  // 创建文本\n  Vue.prototype._v = function(text) {\n    return createTextNode(text)\n  }\n  // 创建元素\n  Vue.prototype._c = function () {\n    return createElement(...arguments)\n  }\n\n  // 拿到数据\n  Vue.prototype._s = function (val) {\n    return val == null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val);\n  }\n  \n  Vue.prototype._render = function() {\n    const vm = this\n    const { render } = this.$options\n    let vnode = render.call(vm)\n    return vnode\n  }\n}","import { mergeOptions } from './utils/mergeOptions'\n\nexport function initGlobalAPI(Vue) {\n  Vue.options = {}\n  Vue.mixin = function(mixin) {\n    this.options = mergeOptions(this.options, mixin)\n    return this\n  }\n}\n\n","import { initMixin } from './init';\nimport { lifecycleMixin } from './lifecycle';\nimport { renderMixin } from './render';\nimport { initGlobalAPI } from './globalAPI';\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitGlobalAPI(Vue)\ninitMixin(Vue)\nlifecycleMixin(Vue)\nrenderMixin(Vue)\n\n\nexport default Vue\n"],"names":["oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","result","apply","ob","__ob__","inserted","slice","observeArray","emptyObject","freeze","makeMap","str","expectsLowerCase","map","list","split","i","length","val","toLowerCase","isBuiltInTag","isReservedAttribute","hasOwnProperty","hasOwn","obj","key","call","Observer","value","defineProperty","enumerable","configurable","isArray","__proto__","walk","data","keys","len","defineReactive","observe","get","set","newValue","initState","vm","opts","$options","props","initData","computed","watch","proxy","source","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","defaultTagRE","ELEMENT_TYPE","TEXT_TYPE","root","currentParent","stack","createASTElement","tagName","attrs","tag","type","children","parent","start","element","push","end","pop","chars","text","replace","parseHTML","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","attr","name","n","gen","node","generate","test","JSON","stringify","lastIndex","tokens","index","exec","trim","join","getChildren","el","c","genProps","item","code","compileToFunctions","template","console","log","render","renderFn","Function","id","Watcher","exprOrFn","cb","options","getter","patch","oldVnode","newVnode","isReadElement","nodeType","oldElm","parentElm","parentNode","creatElm","insertBefore","nextSibling","removeChild","vnode","document","createElement","updateProperties","child","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","lifecycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","callHook","hook","handlers","LIFECYCLE_HOOKS","strate","mergeHook","parentVal","childVal","concat","mergeOptions","mergeField","initMixin","_init","constructor","$mount","querySelector","outerHTML","undefined","renderMixin","_v","_c","arguments","_s","initGlobalAPI","mixin"],"mappings":"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"}