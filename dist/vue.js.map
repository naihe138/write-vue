{"version":3,"file":"vue.js","sources":["../src/observer/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["class Observer{\n  constructor(value) {\n    this.walk(value)\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    for (let i = 0, len = keys.length; i < len; i++) {\n      let key = keys[i]\n      let value = data[key]\n      defineReactive(data, key, value)\n    }\n  }\n}\nfunction defineReactive(data, key, value) {\n  observe(value);\n  Object.defineProperty(data, key, {\n    get() {\n      return value\n    },\n    set(newValue) {\n      if (newValue == value) return\n      observe(newValue)\n      value = newValue\n    }\n  })\n}\nexport function observe(data) {\n  if (typeof data !== 'object' && data != null) {\n    return;\n  }\n  return new Observer(data)\n}","import { observe } from './observer/index' \nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.props) {\n    initProps(vm);\n  }\n  if (opts.methods) {\n    initMethod(vm);\n  }\n  if (opts.data) {\n    initData(vm);\n  }\n  if (opts.computed) {\n    initComputed(vm);\n  }\n  if (opts.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps(vm) {}\n\nfunction initMethod(vm) {}\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n   ? data.call(vm, vm)\n   : data || {};\n  // let keys = Object.keys(data);\n  // let i = keys.length;\n  observe(data);\n}\n\nfunction initComputed(vm) {}\n\nfunction initWatch(vm) {}\n\n","import { initState } from './state'\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options\n    initState(vm)\n  }\n}","import { initMixin } from './init';\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\n\nexport default Vue\n"],"names":["Observer","value","walk","data","keys","Object","i","len","length","key","defineReactive","observe","defineProperty","get","set","newValue","initState","vm","opts","$options","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAMA;EACJ,oBAAYC,KAAZ,EAAmB;EAAA;;EACjB,SAAKC,IAAL,CAAUD,KAAV;EACD;;;;2BACIE,MAAM;EACT,UAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,IAAZ,CAAX;;EACA,WAAK,IAAIG,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGH,IAAI,CAACI,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;EAC/C,YAAIG,GAAG,GAAGL,IAAI,CAACE,CAAD,CAAd;EACA,YAAIL,KAAK,GAAGE,IAAI,CAACM,GAAD,CAAhB;EACAC,QAAAA,cAAc,CAACP,IAAD,EAAOM,GAAP,EAAYR,KAAZ,CAAd;EACD;EACF;;;;;;EAEH,SAASS,cAAT,CAAwBP,IAAxB,EAA8BM,GAA9B,EAAmCR,KAAnC,EAA0C;EACxCU,EAAAA,OAAO,CAACV,KAAD,CAAP;EACAI,EAAAA,MAAM,CAACO,cAAP,CAAsBT,IAAtB,EAA4BM,GAA5B,EAAiC;EAC/BI,IAAAA,GAD+B,iBACzB;EACJ,aAAOZ,KAAP;EACD,KAH8B;EAI/Ba,IAAAA,GAJ+B,eAI3BC,QAJ2B,EAIjB;EACZ,UAAIA,QAAQ,IAAId,KAAhB,EAAuB;EACvBU,MAAAA,OAAO,CAACI,QAAD,CAAP;EACAd,MAAAA,KAAK,GAAGc,QAAR;EACD;EAR8B,GAAjC;EAUD;;EACM,SAASJ,OAAT,CAAiBR,IAAjB,EAAuB;EAC5B,MAAI,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,IAAI,IAAxC,EAA8C;EAC5C;EACD;;EACD,SAAO,IAAIH,QAAJ,CAAaG,IAAb,CAAP;EACD;;EC9BM,SAASa,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;EACA,MAAID,IAAI,CAACE,KAAT,EAAgB;;EAGhB,MAAIF,IAAI,CAACG,OAAT,EAAkB;;EAGlB,MAAIH,IAAI,CAACf,IAAT,EAAe;EACbmB,IAAAA,QAAQ,CAACL,EAAD,CAAR;EACD;;EACD,MAAIC,IAAI,CAACK,QAAT,EAAmB;;EAGnB,MAAIL,IAAI,CAACM,KAAT,EAAgB;EAGjB;;EAMD,SAASF,QAAT,CAAkBL,EAAlB,EAAsB;EACpB,MAAId,IAAI,GAAGc,EAAE,CAACE,QAAH,CAAYhB,IAAvB;EACAA,EAAAA,IAAI,GAAGc,EAAE,CAACQ,KAAH,GAAW,OAAOtB,IAAP,KAAgB,UAAhB,GACfA,IAAI,CAACuB,IAAL,CAAUT,EAAV,EAAcA,EAAd,CADe,GAEfd,IAAI,IAAI,EAFX,CAFoB;EAMpB;;EACAQ,EAAAA,OAAO,CAACR,IAAD,CAAP;EACD;;EC/BM,SAASwB,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvC,QAAMd,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcY,OAAd;EACAf,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GAJD;EAKD;;ECND,SAASW,GAAT,CAAaG,OAAb,EAAsB;EACpB,OAAKD,KAAL,CAAWC,OAAX;EACD;;EAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}